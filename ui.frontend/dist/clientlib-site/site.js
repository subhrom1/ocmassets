!function(){var t={893:function(){!function(t,e,o,n){const a=t=>{n(".ocm-success-alert").find("coral-alert-content").html(t),n(".ocm-success-alert").fadeIn(1e3),n(".ocm-success-alert").fadeOut(2e3)},r=t=>{n(".ocm-error-alert").find("coral-alert-content").html(t),n(".ocm-error-alert").fadeIn(2e3),n(".ocm-error-alert").fadeOut(3e3)};n(t).adaptTo("foundation-registry").register("foundation.collection.action.action",{name:"cq.wcm.ocm.select",handler:function(t,e,o,a,r){1==r.length&&r.forEach((t=>{t.selected=!t.selected;let e=n(".coral3-Masonry-item.is-selected");t.selected&&0==e.length?n(".upload-button").show():t.selected||1!=e.length||n(".upload-button").hide()}))}}),n(t).adaptTo("foundation-registry").register("foundation.collection.action.action",{name:"cq.wcm.ocm.upload",handler:function(t,e,o,i,c){n(".ocm-wait").show();let l=n(".coral3-Masonry-item.is-selected"),s=[];for(let t of l){let e=n(t).attr("data-href"),o=n(t).attr("data-foundation-collection-item-id");e&&o&&(s.push({assetTitle:o,assetLink:e}),t.selected=!1)}let d=n(".js-coral-pathbrowser-input").val();if(!d)return r("Please specify asset upload path"),n(".ocm-wait").hide(),void n(".upload-button").fadeOut(1e3);fetch("/bin/uploadassets",{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({damUploadPath:d,selectedAssets:s})}).then((t=>t.json())).then((t=>{a("Assets enqueued for upload to AEM.."),n(".ocm-wait").hide(),n(".upload-button").fadeOut(1e3)})).catch((t=>{r("Error uploading assets.."),n(".ocm-wait").hide(),n(".upload-button").fadeOut(1e3)}))}}),n(t).adaptTo("foundation-registry").register("foundation.collection.action.action",{name:"cq.wcm.ocm.back",handler:function(e,o,n,a,r){t.history.go(-1)}}),n(t).adaptTo("foundation-registry").register("foundation.collection.action.action",{name:"cq.wcm.ocm.link",handler:function(e,o,r,i,c){1==c.length&&c.forEach((e=>{let o=n(e).attr("data-href");t.navigator.clipboard.writeText(o),a("Asset link copied.")}))}}),n(t).adaptTo("foundation-registry").register("foundation.collection.action.action",{name:"cq.wcm.ocm.embed",handler:function(e,o,r,i,c){1==c.length&&c.forEach((e=>{let o=`<img src="${n(e).attr("data-href")}" alt="ocm-image" height="400" width="700"/>`;t.navigator.clipboard.writeText(o),a("Asset embed copied.")}))}});let i=n(".foundation-layout-panel-content"),c=0;i.scroll((()=>{if(i.scrollTop()+i.innerHeight()>=i[0].scrollHeight){n(".ocm-wait").show(),c++,fetch(`/content/ocmassets/us/en/asset-downloader-items.${40*c}.20.html?wcmmode=disabled`,{method:"GET"}).then((t=>t.text())).then((t=>{let e=n.parseHTML(t),o=n(e).find(".coral3-Masonry-item");o&&o.length>0&&n(".coral3-Masonry").append(o);let a=n(".ocm-filter").val();l(a),n(".ocm-wait").hide()})).catch((t=>{r("Error fetching data.."),n(".ocm-results-wait").hide()}))}})),n(".ocm-filter").on("input",(t=>{let e=t.target.value.trim().toLowerCase();l(e)}));const l=t=>{if(!t)return;let e=n(".coral3-Masonry-item");for(item of e){-1!==item.textContent.trim().toLowerCase().indexOf(t)?item.show():item.hide()}}}(window,document,Granite,Granite.$)}},e={};function o(n){var a=e[n];if(void 0!==a)return a.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,o),r.exports}o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,{a:e}),e},o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";o(893)}()}();